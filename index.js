import{a as P,S as x,i as s}from"./assets/vendor-BNibzuFn.js";(function(){const r=document.createElement("link").relList;if(r&&r.supports&&r.supports("modulepreload"))return;for(const t of document.querySelectorAll('link[rel="modulepreload"]'))d(t);new MutationObserver(t=>{for(const a of t)if(a.type==="childList")for(const u of a.addedNodes)u.tagName==="LINK"&&u.rel==="modulepreload"&&d(u)}).observe(document,{childList:!0,subtree:!0});function e(t){const a={};return t.integrity&&(a.integrity=t.integrity),t.referrerPolicy&&(a.referrerPolicy=t.referrerPolicy),t.crossOrigin==="use-credentials"?a.credentials="include":t.crossOrigin==="anonymous"?a.credentials="omit":a.credentials="same-origin",a}function d(t){if(t.ep)return;t.ep=!0;const a=e(t);fetch(t.href,a)}})();const q="https://pixabay.com/api/",H="52805756-0bb10a10045fa9da16982d34a";async function L(o,r){const e={key:H,q:o,image_type:"photo",orientation:"horizontal",safesearch:!0,per_page:15,page:r};return(await P.get(q,{params:e})).data}const p=document.querySelector(".gallery"),m=document.querySelector(".load-more"),b=document.querySelector(".loader");let w=new x(".gallery a",{captionsData:"alt",captionDelay:250});function v(o){const r=o.map(e=>`
      <li class="gallery-item">
        <a href="${e.largeImageURL}">
          <img src="${e.webformatURL}" alt="${e.tags}" loading="lazy" />
        </a>
        <ul class="info">
          <li><b>Likes:</b> ${e.likes}</li>
          <li><b>Views:</b> ${e.views}</li>
          <li><b>Comments:</b> ${e.comments}</li>
          <li><b>Downloads:</b> ${e.downloads}</li>
        </ul>
      </li>`).join("");p.insertAdjacentHTML("beforeend",r),w.refresh()}function R(){p.innerHTML="",w.refresh()}function F(){b.classList.remove("is-hidden")}function S(){b.classList.add("is-hidden")}function B(){m.classList.remove("is-hidden")}function h(){m.classList.add("is-hidden")}const f=m,A=p,C="data:image/svg+xml,%3csvg%20xmlns='http://www.w3.org/2000/svg'%20width='24'%20height='24'%20fill='none'%3e%3cg%20fill='%23FAFAFB'%20clip-path='url(%23a)'%3e%3cpath%20d='M6.81.219A.75.75%200%200%201%207.34%200h9.32a.75.75%200%200%201%20.53.219l6.591%206.591a.75.75%200%200%201%20.219.53v9.32a.75.75%200%200%201-.219.53l-6.591%206.591a.75.75%200%200%201-.53.219H7.34a.75.75%200%200%201-.53-.219L.219%2017.19A.75.75%200%200%201%200%2016.66V7.34a.75.75%200%200%201%20.219-.53L6.81.219ZM7.65%201.5%201.5%207.65v8.7l6.15%206.15h8.7l6.15-6.15v-8.7L16.35%201.5h-8.7Z'/%3e%3cpath%20d='M6.969%206.969a.75.75%200%200%201%201.062%200L12%2010.939l3.969-3.97a.75.75%200%201%201%201.062%201.062L13.06%2012l3.97%203.969a.752.752%200%200%201-1.062%201.062l-3.97-3.97-3.968%203.97a.753.753%200%200%201-1.225-.244.751.751%200%200%201%20.163-.818L10.939%2012%206.97%208.031a.75.75%200%200%201%200-1.062Z'/%3e%3c/g%3e%3cdefs%3e%3cclipPath%20id='a'%3e%3cpath%20fill='%23fff'%20d='M0%200h24v24H0z'/%3e%3c/clipPath%3e%3c/defs%3e%3c/svg%3e",M=document.querySelector(".form"),y=M.querySelector("input[name='search-text']");let n="",c=1,l=0,i=0;const g={position:"topRight",backgroundColor:"#EF4040",messageColor:"#FFFFFF",iconUrl:C,iconColor:"#FFFFFF",progressBar:!0,progressBarColor:"#B51B1B",close:!0,timeout:5e3,pauseOnHover:!0,width:"432px",height:"88px",padding:"20px",borderRadius:"4px",class:"custom-error-toast"};M.addEventListener("submit",O);f.addEventListener("click",E);async function O(o){o.preventDefault();const r=y.value.trim();if(!r){s.warning({message:"Please enter a search term!",position:"topRight"});return}r!==n&&(n=r,c=1,i=0,l=0),R(),h(),F();try{const e=await L(n,c);if(l=e.totalHits||0,!e.hits||e.hits.length===0){s.error({message:"Sorry, there are no images matching your search query. Please try again!",...g});return}v(e.hits),y.value="",i+=e.hits.length,i<l?B():(h(),s.info({message:"We're sorry, but you've reached the end of search results.",position:"topRight"}))}catch{s.error({message:"Something went wrong. Please try again later.",...g})}finally{S()}}async function E(){f.disabled=!0,F(),c+=1;try{const o=await L(n,c);v(o.hits),i+=o.hits.length;const r=A.querySelector(".gallery-item");if(r){const{height:e}=r.getBoundingClientRect();window.scrollBy({top:e*2,behavior:"smooth"})}i>=(o.totalHits||l)?(h(),s.info({message:"We're sorry, but you've reached the end of search results.",position:"topRight"})):B()}catch{s.error({message:"Something went wrong while loading more images.",...g})}finally{S(),f.disabled=!1}}
//# sourceMappingURL=index.js.map
